commit ed529b1c4b013578df04fcb3333317ca64c05bab
Author: Francois Colleoni <francois.colleoni@inrae.fr>
Date:   Wed Sep 13 09:59:06 2023 +0200

    ENC: Add optional returns options
    
    This commit add the possibility to return optional intermediate variable inside three functions:
    - forward_run
    - optimize
    - multiset_estimate
    
    - Add standardize for return options
    - Add docstring for return options
    - Add AD directive to remove some lines to not be differentiated
    - Add new tests

TEST NAME                                             |STATUS
bbox_mesh.active_cell                                 |NON MODIFIED
bbox_mesh.dx                                          |NON MODIFIED
bbox_mesh.dy                                          |NON MODIFIED
bbox_mesh.flwacc                                      |NON MODIFIED
bbox_mesh.flwdir                                      |NON MODIFIED
bbox_mesh.nac                                         |NON MODIFIED
bbox_mesh.ncol                                        |NON MODIFIED
bbox_mesh.ng                                          |NON MODIFIED
bbox_mesh.nrow                                        |NON MODIFIED
bbox_mesh.xmin                                        |NON MODIFIED
bbox_mesh.xres                                        |NON MODIFIED
bbox_mesh.ymax                                        |NON MODIFIED
bbox_mesh.yres                                        |NON MODIFIED
custom_optimize.gr4-lr.custom_set_1.sim_q             |NON MODIFIED
custom_optimize.gr4-lr.custom_set_2.sim_q             |NON MODIFIED
custom_optimize.gr4-lr.custom_set_3.sim_q             |NON MODIFIED
custom_optimize.gr4-lr.custom_set_4.sim_q             |NON MODIFIED
custom_optimize.gr4-lr.custom_set_5.sim_q             |NON MODIFIED
custom_optimize.gr4-lr.custom_set_6.sim_q             |NON MODIFIED
forward_run.gr4-kw.cost                               |ADDED
forward_run.gr4-kw.jobs                               |ADDED
forward_run.gr4-kw.jreg                               |ADDED
forward_run.gr4-kw.opr_states.hi                      |ADDED
forward_run.gr4-kw.opr_states.hp                      |ADDED
forward_run.gr4-kw.opr_states.ht                      |ADDED
forward_run.gr4-kw.q_domain                           |ADDED
forward_run.gr4-kw.sim_q                              |NON MODIFIED
forward_run.gr4-lr.cost                               |ADDED
forward_run.gr4-lr.jobs                               |ADDED
forward_run.gr4-lr.jreg                               |ADDED
forward_run.gr4-lr.opr_states.hi                      |ADDED
forward_run.gr4-lr.opr_states.hlr                     |ADDED
forward_run.gr4-lr.opr_states.hp                      |ADDED
forward_run.gr4-lr.opr_states.ht                      |ADDED
forward_run.gr4-lr.q_domain                           |ADDED
forward_run.gr4-lr.sim_q                              |NON MODIFIED
forward_run.gr5-kw.cost                               |ADDED
forward_run.gr5-kw.jobs                               |ADDED
forward_run.gr5-kw.jreg                               |ADDED
forward_run.gr5-kw.opr_states.hi                      |ADDED
forward_run.gr5-kw.opr_states.hp                      |ADDED
forward_run.gr5-kw.opr_states.ht                      |ADDED
forward_run.gr5-kw.q_domain                           |ADDED
forward_run.gr5-kw.sim_q                              |NON MODIFIED
forward_run.gr5-lr.cost                               |ADDED
forward_run.gr5-lr.jobs                               |ADDED
forward_run.gr5-lr.jreg                               |ADDED
forward_run.gr5-lr.opr_states.hi                      |ADDED
forward_run.gr5-lr.opr_states.hlr                     |ADDED
forward_run.gr5-lr.opr_states.hp                      |ADDED
forward_run.gr5-lr.opr_states.ht                      |ADDED
forward_run.gr5-lr.q_domain                           |ADDED
forward_run.gr5-lr.sim_q                              |NON MODIFIED
forward_run.grd-lr.cost                               |ADDED
forward_run.grd-lr.jobs                               |ADDED
forward_run.grd-lr.jreg                               |ADDED
forward_run.grd-lr.opr_states.hlr                     |ADDED
forward_run.grd-lr.opr_states.hp                      |ADDED
forward_run.grd-lr.opr_states.ht                      |ADDED
forward_run.grd-lr.q_domain                           |ADDED
forward_run.grd-lr.sim_q                              |NON MODIFIED
generate_samples.normal                               |NON MODIFIED
generate_samples.uniform                              |NON MODIFIED
hydrograph_segmentation.by_obs                        |NON MODIFIED
hydrograph_segmentation.by_sim                        |NON MODIFIED
mesh_io.active_cell                                   |NON MODIFIED
mesh_io.area                                          |NON MODIFIED
mesh_io.area_dln                                      |NON MODIFIED
mesh_io.code                                          |NON MODIFIED
mesh_io.dx                                            |NON MODIFIED
mesh_io.dy                                            |NON MODIFIED
mesh_io.flwacc                                        |NON MODIFIED
mesh_io.flwdir                                        |NON MODIFIED
mesh_io.flwdst                                        |NON MODIFIED
mesh_io.gauge_pos                                     |NON MODIFIED
mesh_io.nac                                           |NON MODIFIED
mesh_io.ncol                                          |NON MODIFIED
mesh_io.ng                                            |NON MODIFIED
mesh_io.nrow                                          |NON MODIFIED
mesh_io.path                                          |NON MODIFIED
mesh_io.xmin                                          |NON MODIFIED
mesh_io.xres                                          |NON MODIFIED
mesh_io.ymax                                          |NON MODIFIED
mesh_io.yres                                          |NON MODIFIED
metrics.kge                                           |NON MODIFIED
metrics.lgrm                                          |NON MODIFIED
metrics.mae                                           |NON MODIFIED
metrics.mape                                          |NON MODIFIED
metrics.mse                                           |NON MODIFIED
metrics.nnse                                          |NON MODIFIED
metrics.nse                                           |NON MODIFIED
metrics.rmse                                          |NON MODIFIED
model_io.atmos_data.mean_pet                          |NON MODIFIED
model_io.atmos_data.mean_prcp                         |NON MODIFIED
model_io.mesh.active_cell                             |NON MODIFIED
model_io.mesh.flwdir                                  |NON MODIFIED
model_io.obs_response.q                               |NON MODIFIED
model_io.opr_final_states.values                      |NON MODIFIED
model_io.opr_initial_states.values                    |NON MODIFIED
model_io.opr_parameters.values                        |NON MODIFIED
model_io.physio_data.descriptor                       |NON MODIFIED
model_io.setup.end_time                               |NON MODIFIED
model_io.setup.start_time                             |NON MODIFIED
model_io.setup.structure                              |NON MODIFIED
model_io.sim_response.q                               |NON MODIFIED
multiset_estimate.mfwr.lcurve_multiset.alpha          |ADDED
multiset_estimate.mfwr.lcurve_multiset.alpha_opt      |ADDED
multiset_estimate.mfwr.lcurve_multiset.cost           |ADDED
multiset_estimate.mfwr.lcurve_multiset.mahal_dist     |ADDED
multiset_estimate.mfwr.sim_q                          |NON MODIFIED
multiset_estimate.mopt_ml.sim_q                       |NON MODIFIED
multiset_estimate.mopt_unf.lcurve_multiset.alpha      |ADDED
multiset_estimate.mopt_unf.lcurve_multiset.alpha_opt  |ADDED
multiset_estimate.mopt_unf.lcurve_multiset.cost       |ADDED
multiset_estimate.mopt_unf.lcurve_multiset.mahal_dist |ADDED
multiset_estimate.mopt_unf.sim_q                      |NON MODIFIED
net_init.bias_layer_1                                 |NON MODIFIED
net_init.bias_layer_2                                 |NON MODIFIED
net_init.bias_layer_3                                 |NON MODIFIED
net_init.bias_layer_4                                 |NON MODIFIED
net_init.graph                                        |NON MODIFIED
net_init.weight_layer_1                               |NON MODIFIED
net_init.weight_layer_2                               |NON MODIFIED
net_init.weight_layer_3                               |NON MODIFIED
net_init.weight_layer_4                               |NON MODIFIED
optimize.gr4-kw.ann.sim_q                             |NON MODIFIED
optimize.gr4-kw.distributed.control_vector            |ADDED
optimize.gr4-kw.distributed.iter_cost                 |ADDED
optimize.gr4-kw.distributed.sim_q                     |NON MODIFIED
optimize.gr4-kw.multi-linear.control_vector           |ADDED
optimize.gr4-kw.multi-linear.iter_cost                |ADDED
optimize.gr4-kw.multi-linear.sim_q                    |NON MODIFIED
optimize.gr4-kw.multi-polynomial.control_vector       |ADDED
optimize.gr4-kw.multi-polynomial.iter_cost            |ADDED
optimize.gr4-kw.multi-polynomial.sim_q                |NON MODIFIED
optimize.gr4-kw.uniform.control_vector                |ADDED
optimize.gr4-kw.uniform.iter_cost                     |ADDED
optimize.gr4-kw.uniform.sim_q                         |NON MODIFIED
optimize.gr4-lr.ann.sim_q                             |NON MODIFIED
optimize.gr4-lr.distributed.control_vector            |ADDED
optimize.gr4-lr.distributed.iter_cost                 |ADDED
optimize.gr4-lr.distributed.sim_q                     |NON MODIFIED
optimize.gr4-lr.multi-linear.control_vector           |ADDED
optimize.gr4-lr.multi-linear.iter_cost                |ADDED
optimize.gr4-lr.multi-linear.sim_q                    |NON MODIFIED
optimize.gr4-lr.multi-polynomial.control_vector       |ADDED
optimize.gr4-lr.multi-polynomial.iter_cost            |ADDED
optimize.gr4-lr.multi-polynomial.sim_q                |NON MODIFIED
optimize.gr4-lr.uniform.control_vector                |ADDED
optimize.gr4-lr.uniform.iter_cost                     |ADDED
optimize.gr4-lr.uniform.sim_q                         |NON MODIFIED
optimize.gr5-kw.ann.sim_q                             |NON MODIFIED
optimize.gr5-kw.distributed.control_vector            |ADDED
optimize.gr5-kw.distributed.iter_cost                 |ADDED
optimize.gr5-kw.distributed.sim_q                     |NON MODIFIED
optimize.gr5-kw.multi-linear.control_vector           |ADDED
optimize.gr5-kw.multi-linear.iter_cost                |ADDED
optimize.gr5-kw.multi-linear.sim_q                    |NON MODIFIED
optimize.gr5-kw.multi-polynomial.control_vector       |ADDED
optimize.gr5-kw.multi-polynomial.iter_cost            |ADDED
optimize.gr5-kw.multi-polynomial.sim_q                |NON MODIFIED
optimize.gr5-kw.uniform.control_vector                |ADDED
optimize.gr5-kw.uniform.iter_cost                     |ADDED
optimize.gr5-kw.uniform.sim_q                         |NON MODIFIED
optimize.gr5-lr.ann.sim_q                             |NON MODIFIED
optimize.gr5-lr.distributed.control_vector            |ADDED
optimize.gr5-lr.distributed.iter_cost                 |ADDED
optimize.gr5-lr.distributed.sim_q                     |NON MODIFIED
optimize.gr5-lr.multi-linear.control_vector           |ADDED
optimize.gr5-lr.multi-linear.iter_cost                |ADDED
optimize.gr5-lr.multi-linear.sim_q                    |NON MODIFIED
optimize.gr5-lr.multi-polynomial.control_vector       |ADDED
optimize.gr5-lr.multi-polynomial.iter_cost            |ADDED
optimize.gr5-lr.multi-polynomial.sim_q                |NON MODIFIED
optimize.gr5-lr.uniform.control_vector                |ADDED
optimize.gr5-lr.uniform.iter_cost                     |ADDED
optimize.gr5-lr.uniform.sim_q                         |NON MODIFIED
optimize.grd-lr.ann.sim_q                             |NON MODIFIED
optimize.grd-lr.distributed.control_vector            |ADDED
optimize.grd-lr.distributed.iter_cost                 |ADDED
optimize.grd-lr.distributed.sim_q                     |NON MODIFIED
optimize.grd-lr.multi-linear.control_vector           |ADDED
optimize.grd-lr.multi-linear.iter_cost                |ADDED
optimize.grd-lr.multi-linear.sim_q                    |NON MODIFIED
optimize.grd-lr.multi-polynomial.control_vector       |ADDED
optimize.grd-lr.multi-polynomial.iter_cost            |ADDED
optimize.grd-lr.multi-polynomial.sim_q                |NON MODIFIED
optimize.grd-lr.uniform.control_vector                |ADDED
optimize.grd-lr.uniform.iter_cost                     |ADDED
optimize.grd-lr.uniform.sim_q                         |NON MODIFIED
precipitation_indices.d1                              |NON MODIFIED
precipitation_indices.d2                              |NON MODIFIED
precipitation_indices.hg                              |NON MODIFIED
precipitation_indices.std                             |NON MODIFIED
precipitation_indices.vg                              |NON MODIFIED
setup_io.daily_interannual_pet                        |NON MODIFIED
setup_io.descriptor_name                              |NON MODIFIED
setup_io.dt                                           |NON MODIFIED
setup_io.end_time                                     |NON MODIFIED
setup_io.pet_conversion_factor                        |NON MODIFIED
setup_io.pet_format                                   |NON MODIFIED
setup_io.prcp_conversion_factor                       |NON MODIFIED
setup_io.prcp_format                                  |NON MODIFIED
setup_io.read_descriptor                              |NON MODIFIED
setup_io.read_pet                                     |NON MODIFIED
setup_io.read_prcp                                    |NON MODIFIED
setup_io.read_qobs                                    |NON MODIFIED
setup_io.start_time                                   |NON MODIFIED
setup_io.structure                                    |NON MODIFIED
signatures.cont_obs_by_obs                            |NON MODIFIED
signatures.cont_sim_by_obs                            |NON MODIFIED
signatures.cont_sim_by_sim                            |NON MODIFIED
signatures.event_obs_by_obs                           |NON MODIFIED
signatures.event_sim_by_obs                           |NON MODIFIED
signatures.event_sim_by_sim                           |NON MODIFIED
xy_mesh.active_cell                                   |NON MODIFIED
xy_mesh.area                                          |NON MODIFIED
xy_mesh.area_dln                                      |NON MODIFIED
xy_mesh.code                                          |NON MODIFIED
xy_mesh.dx                                            |NON MODIFIED
xy_mesh.dy                                            |NON MODIFIED
xy_mesh.flwacc                                        |NON MODIFIED
xy_mesh.flwdir                                        |NON MODIFIED
xy_mesh.flwdst                                        |NON MODIFIED
xy_mesh.gauge_pos                                     |NON MODIFIED
xy_mesh.nac                                           |NON MODIFIED
xy_mesh.ncol                                          |NON MODIFIED
xy_mesh.ng                                            |NON MODIFIED
xy_mesh.nrow                                          |NON MODIFIED
xy_mesh.xmin                                          |NON MODIFIED
xy_mesh.xres                                          |NON MODIFIED
xy_mesh.ymax                                          |NON MODIFIED
xy_mesh.yres                                          |NON MODIFIED
